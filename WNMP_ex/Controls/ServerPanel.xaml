<UserControl x:Class="WNMP_ex.Controls.ServerPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:yt_btn="clr-namespace:YControls.FontIconButtons;assembly=YControls"
             xmlns:yt_flow="clr-namespace:YControls.FlowControls;assembly=YControls"
             xmlns:ser ="clr-namespace:WNMP_ex.Services"
             DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}"
             xmlns:local="clr-namespace:WNMP_ex.Controls">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../Themes/Generic.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid  Width="364"
           Height="96"
           Background="#1e1e1e">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="auto" />
        </Grid.ColumnDefinitions>
        <Grid Margin="0,0,12,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <local:ServerItem x:Name="Server_PHP" 
                              CommandParameter="{StaticResource SS_PHP}"
                              DisableColor="{StaticResource ServerOff}"
                              EnableColor="{StaticResource PHPC}"
                              ItemPath="M48.1,153l3.24-16.62c1.85-9.57,3.76-19.13,5.51-28.72.37-2,1.11-2.66,3.22-2.63,8.22.15,16.45,0,24.68.09,5.25,0,10.28,1.06,14.41,4.58,5.7,4.86,6.12,11.35,5,18.07C102.09,141,92,150,78.65,150.77a128.4,128.4,0,0,1-13.45.1c-2.53-.13-3.28.77-3.6,3.09-.55,3.95-1.49,7.83-2.17,11.76-.22,1.3-.75,1.83-2.12,1.8q-5.1-.12-10.22,0c-1.61,0-1.72-.61-1.44-2,.81-3.81,1.5-7.66,2.23-11.49C48.3,153.78,48.49,153.45,48.1,153Zm20.15-32.87q-1.83,9.39-3.65,18.79c-.18.93-.65,2.09,1.08,2.05,4.39-.1,8.8.35,13.15-.6,3.56-.77,6.55-2.44,8.42-5.65a21.93,21.93,0,0,0,3-12.15c-.17-3.72-1.86-5.73-5.45-6.69s-7.57-.81-11.38-.8c-5.13,0-4-.53-5,4A.7.7,0,0,0,68.25,120.12Zm57.7-15c-1.33,0-1.69-.33-1.38-1.74,1-4.3,1.67-8.64,2.56-13,.3-1.43,0-2-1.56-1.92-3.23.07-6.48.08-9.71,0-1.55,0-2.18.48-2.45,2-.9,5.15-2,10.27-3,15.4-2.77,14.26-5.51,28.52-8.34,42.77-.36,1.78,0,2.37,1.86,2.3a76.69,76.69,0,0,1,8.71,0c2.14.17,2.82-.59,3.2-2.63,1.89-10.28,4-20.53,5.9-30.81.32-1.69.91-2.38,2.73-2.25,2.56.18,5.15,0,7.72,0,7.95,0,9.34,1.81,7.72,9.65s-3.07,15.81-4.67,23.7c-.35,1.75.05,2.46,1.92,2.28,1.4-.13,2.82,0,4.23,0,2.39-.12,5.27,1,7-.46,1.54-1.26,1.1-4.18,1.61-6.36,0-.16.11-.31.14-.47,1.52-8.16,3.31-16.28,4.49-24.49,1.05-7.33-2.17-11.46-9.38-13.18a51,51,0,0,0-12.39-.88C130.6,105.09,128.28,105.05,126,105.1Zm-78.07,49c.42-.29.61-.62.22-1.08A.66.66,0,0,0,47.88,154.07Zm131.74-49c4.57.22,10.14-.4,15.68.45,10.21,1.55,15.8,8.74,15.11,19-.9,13.47-10.83,26.14-27.26,26.29-4.4.05-8.81.09-13.21,0-1.42,0-2,.42-2.28,1.89-.72,4.25-1.67,8.47-2.42,12.71-.24,1.36-.69,2-2.22,2-3.4-.1-6.81-.07-10.22,0-1.34,0-1.69-.35-1.42-1.73q5.75-29.32,11.36-58.68c.31-1.64,1.07-2.1,2.68-2.06C169.82,105.16,174.23,105.09,179.62,105.09ZM176.79,141a27.47,27.47,0,0,0,9.72-1.13c5.63-1.87,9.21-7.7,9.54-15.26.25-5.94-1.8-8.37-7.65-9.17-3.89-.52-7.79-.26-11.69-.35-1.34,0-1.82.54-2.07,1.85-1.35,7.25-2.75,14.5-4.26,21.72-.42,2,.18,2.54,2.06,2.36C173.67,140.87,174.93,141,176.79,141ZM68.25,120.12c.53-.26.71-.58.21-1A.7.7,0,0,0,68.25,120.12Z" />
            <local:ServerItem x:Name="Server_Nginx"
                              Grid.Column="1"
                              CommandParameter="{StaticResource SS_Nginx}"
                              DisableColor="{StaticResource ServerOff}"
                              EnableColor="{StaticResource NginxC}"
                              ItemPath="M150,122h-6.59c-6.45,0-12.9,0-19.35,0a14.38,14.38,0,0,1-9.63-3.43c-5-4.38-4.58-10.41.91-14.18a14.89,14.89,0,0,1,8.58-2.6q28.72-.07,57.46-.06a10.57,10.57,0,0,1,1.05.16,14.13,14.13,0,0,1-.62,1.58q-13.22,24.06-26.45,48.12a2.41,2.41,0,0,1-2.41,1.47c-17.48,0-34.95,0-52.43-.08a3,3,0,0,1-2.21-1.33C90.58,137.8,83,123.9,75.34,110a3.18,3.18,0,0,0-.37-.68c-2.94-3.2-2-6.07,0-9.56,7.49-13,14.64-26.23,21.86-39.39A3.15,3.15,0,0,1,100,58.43q26.61.09,53.21,0A2.89,2.89,0,0,1,156,60c4.69,7.56,9.46,15.07,14.17,22.62,2.07,3.33,4,6.73,6.06,10.09.65,1.08.24,1.63-.89,1.64-6.83,0-13.67,0-20.5-.1-.68,0-1.55-.85-2-1.53q-4.22-6.48-8.25-13.08a2.55,2.55,0,0,0-2.49-1.38q-14.7.06-29.41,0A2.69,2.69,0,0,0,110,79.8q-6.86,12.45-13.88,24.8a2.42,2.42,0,0,0,0,2.79q7.52,13.06,14.88,26.24a2.87,2.87,0,0,0,2.9,1.67q13.26-.08,26.51,0a3,3,0,0,0,3.07-1.77C145.52,129.8,147.65,126.14,150,122Zm12,55.23c0,5.35,0,10.7,0,16a3.8,3.8,0,1,0,7.57,0c0-8.12,0-16.24,0-24.36a3.79,3.79,0,0,0-2.35-3.65c-2.13-1-5.29-.23-7,1.83-3.51,4.28-7,8.58-10.5,12.86-1.64,2-3.33,4-5.26,6.26,0-.8-.08-1.16-.08-1.52,0-5.29,0-10.57,0-15.86a4,4,0,0,0-3.83-4,3.86,3.86,0,0,0-3.7,3.94q0,12.38,0,24.75a3.44,3.44,0,0,0,2.31,3.43c2.58,1,5.4.13,7.46-2.4,4.95-6.08,10-12.12,15.21-18.5C162,176.78,162,177,162,177.27Zm-103-1c4.16,5.06,8.29,10.14,12.49,15.16a35,35,0,0,0,4.62,4.88,4.92,4.92,0,0,0,5.8.46c1.74-1,1.91-2.66,1.89-4.51-.06-7.6,0-15.21,0-22.82,0-2.58-1.51-4.53-3.63-4.61s-3.93,1.81-4,4.53c0,3.86,0,7.73,0,11.6v5.38c-4-4.87-7.62-9.29-11.27-13.69a72.36,72.36,0,0,0-5.3-6.13,5.37,5.37,0,0,0-6.06-1.25,3.87,3.87,0,0,0-2.47,4c0,8-.08,16,.06,24a5.74,5.74,0,0,0,1.65,3.47,2.88,2.88,0,0,0,3.75.31,3.72,3.72,0,0,0,2-3.43c-.08-5.72,0-11.43,0-17.14Zm61.79-.21c-1.83-3-3.74-6-5.47-9.09a3.19,3.19,0,0,0-3.22-1.87c-5,.09-10.06.09-15.08,0a2.65,2.65,0,0,0-2.74,1.61c-2.31,4.38-4.71,8.72-7,13.13a3,3,0,0,0,0,2.42Q91,189.2,94.88,196a2.92,2.92,0,0,0,2,1.27c5.16.1,10.31.1,15.47,0a3.28,3.28,0,0,0,2.35-1.39c2.71-4.75,5.25-9.59,7.88-14.39.59-1.07.68-1.63-.86-1.62-5.86,0-11.73,0-17.59,0-2.77,0-4.6,1.42-4.58,3.43s1.69,3.07,4.57,3.09,5.64,0,8.79,0c-.63,1.09-1.22,1.92-1.64,2.83a3.25,3.25,0,0,1-3.65,2.1,42.77,42.77,0,0,0-6,0,2.87,2.87,0,0,1-3.07-1.77c-1.21-2.41-2.48-4.81-3.88-7.11a2.25,2.25,0,0,1,.08-2.63c1.13-1.95,2.35-3.87,3.28-5.91s2.35-3,4.68-2.67a9.76,9.76,0,0,0,3.28,0c3.3-.64,5.17.88,6.38,3.77.34.79,1,2,1.56,2.06a69.31,69.31,0,0,0,7.09.09A4,4,0,0,0,120.84,176.1ZM174,190.87a3.72,3.72,0,0,0,.09,5.47c1.85,1.68,3.46,1.54,5.56-.46l9.47-9c.19.18.67.6,1.12,1,2.78,2.78,5.55,5.57,8.34,8.34,1,1,2.11,1.63,3.63,1,2.93-1.24,3.59-4,1.37-6.35-3.09-3.26-6.25-6.45-9.87-10.16,3.29-3.08,6.51-6,9.66-9.06,1.92-1.84,2-4,.44-5.61s-3.58-1.62-5.59.36c-2.67,2.61-5.26,5.3-7.9,7.95-.47.48-1,.9-1.36,1.22-1.72-1.64-3.28-3.08-4.79-4.57s-3-3-4.49-4.53c-1.89-1.87-3.37-2.12-5.12-.88a3.79,3.79,0,0,0-.46,6c3.16,3.11,6.39,6.15,9.88,9.5C180.32,184.65,177.09,187.71,174,190.87Zm-41.72-3c0-2.12.05-4.24,0-6.36,0-.55-.4-1.53-.69-1.56a31.84,31.84,0,0,0-5,0c-.26,0-.66.78-.67,1.2,0,4.44-.07,8.88,0,13.31a3.52,3.52,0,0,0,3.22,3.05,3.21,3.21,0,0,0,3.09-3.07c.08-2.18,0-4.37,0-6.56Zm0-16.06c0-1.09,0-2.18,0-3.27-.06-2.17-1.31-3.64-3.08-3.69s-3.26,1.78-3.28,3.81c0,1.6,0,3.21,0,4.82,0,4.22-.38,3.75,3.86,3.75,2.61,0,2.6,0,2.53-2.53,0-1,0-1.92,0-2.89Z" />
            <local:ServerItem x:Name="Server_MySQL"
                              Grid.Column="2"
                              CommandParameter="{StaticResource SS_MySQL}"
                              DisableColor="{StaticResource ServerOff}"
                              EnableColor="{StaticResource MySQLC}"
                              ItemPath="M162.74,123.17c-.24.72-1.14,1-1.79,1.1-2.34.47-4.69.91-7,1.36l-.29.05c-.75.14-.89.32-.9.34s.05.23.73.74a29.57,29.57,0,0,0,2.61,1.74,20.58,20.58,0,0,1,4.77,3.64c.1.11.22.23.35.35.7.69,1.88,1.85.86,3.07a1.13,1.13,0,0,1-.77.42h-.08a2.27,2.27,0,0,1-1.4-.78,3.63,3.63,0,0,0-.68-.51,33.05,33.05,0,0,1-8.63-5.05l-.34-.3c-1.45-1.29-3.26-2.88-2.82-4.92.36-1.67,2.27-2,3.81-2.25a11,11,0,0,0,1.11-.21,30.82,30.82,0,0,1,4.42-.61l1.2-.11-1.37-1c-3.48-2.53-6.76-4.92-10.73-5.85a8.27,8.27,0,0,1-5.95-5.1c-.67-1.49-1.37-3-2.06-4.45-1.11-2.35-2.25-4.78-3.27-7.22a42.2,42.2,0,0,0-19.82-21.44c-.2-.1-.4-.22-.6-.33a6,6,0,0,0-2.61-1c-5,0-9-2.34-13-4.59l-.24-.14a8.15,8.15,0,0,0-1.61-.62c-1-.32-1.54-.37-2,.13s-.27,1.09.15,1.92A7.06,7.06,0,0,0,95.66,73a30.88,30.88,0,0,1,6.61,12.92A10.41,10.41,0,0,0,105,91.08c2.43,2.18,1.77,4.55,1,6.6a20.13,20.13,0,0,0-.52,13c.06.21.12.44.18.67.45,1.76.92,3.21,2,3.16.52,0,.61-.3.56-1.7a5,5,0,0,1,.21-2.07,6.32,6.32,0,0,0,.28-1,8.6,8.6,0,0,1,.25-1c.51-1.5,1.29-3.76,3.08-4,1.22-.17,1.6,1.22,1.91,2.34a8.69,8.69,0,0,0,.37,1.15,75,75,0,0,0,5.69,10.18,3.27,3.27,0,0,0,.28.37,2.17,2.17,0,0,1,.47,2.59l-.29.55-.48-.4a24.33,24.33,0,0,1-7.36-9.08,4,4,0,0,0-.38,1.67,7.24,7.24,0,0,1-.16,1.11l0,.19c-.35,1.38-.75,2.94-2.64,3.42-1.64.42-3.09-.19-4.44-1.85-3.14-3.88-3.56-8.51-3.58-12.11a30.85,30.85,0,0,1,1.37-8l.32-1.22c.22-.82.31-1.24-.17-1.78a22.11,22.11,0,0,1-4.38-8.72,26.54,26.54,0,0,0-5-9.4c-2.72-3.38-3.24-6.1-1.57-8.33,1.36-1.83,4.3-2.95,8.48-.59a48.73,48.73,0,0,0,10.4,4c1.18.35,2.37.71,3.55,1.09,6.81,2.21,12.06,7.33,16.44,12,4.15,4.39,6.56,9.79,8.89,15,.65,1.45,1.3,2.91,2,4.34l.13.27a8.18,8.18,0,0,1,.44,1c1.25,3.72,3.65,6.13,7.78,7.82a32.53,32.53,0,0,1,12.06,9C162.44,121.71,163,122.44,162.74,123.17ZM107.24,78c-.37.05-.94.12-1.16.54a.72.72,0,0,0,0,.67c.53,1,1.13,2,1.71,3l.61,1,.13.22.25,0H109a1.4,1.4,0,0,0,1.26-.8,2.62,2.62,0,0,0-.12-3A3,3,0,0,0,107.24,78ZM69.05,180.66,58.18,166.25H52.5V200h5.6V175.6l11,13.87,10.76-13.83V200h5.6V166.25H79.74ZM107.4,174l-7.18,18-7.06-18H87l10.2,24.65-4.82,10.85h6.09L113.53,174Zm29.74,9.47a15.93,15.93,0,0,0-3.74-1.76c-1.33-.44-2.7-.84-4.08-1.18l-4-1a24.46,24.46,0,0,1-3.37-1.06,6.58,6.58,0,0,1-2.15-1.33,1.78,1.78,0,0,1-.63-1.27,5.65,5.65,0,0,1,.26-1.73,3,3,0,0,1,.93-1.31,6.6,6.6,0,0,1,2.23-1.15,12.18,12.18,0,0,1,3.76-.5,13.93,13.93,0,0,1,3.79.44c2.67.75,4.1,2.19,4.37,4.39l.1.88h5.64l-.06-1.05a9.25,9.25,0,0,0-3.57-7c-2.38-2-5.75-3-10-3s-7.46.9-9.61,2.67a8.82,8.82,0,0,0-3.34,7.11,6.84,6.84,0,0,0,1.9,5,13,13,0,0,0,4.36,2.82,34,34,0,0,0,5.39,1.65c1.83.41,3.57.86,5.16,1.33a13.49,13.49,0,0,1,3.75,1.69,2.47,2.47,0,0,1,1.18,2.2c0,1.14,0,4.61-7.93,4.61a12.79,12.79,0,0,1-6.36-1.35,4.92,4.92,0,0,1-2.67-4.18l-.06-.94H112.6l.1,1.09a10.78,10.78,0,0,0,3.93,7.79c2.5,2,6.13,3,10.79,3,4.13,0,7.44-.85,9.82-2.53a8.79,8.79,0,0,0,3.76-7.63A7.65,7.65,0,0,0,137.14,183.5Zm39.19,16.4,3.11,4.21-.75.6a13.46,13.46,0,0,1-15.56.73,13.7,13.7,0,0,1-4.75-5.11,16.41,16.41,0,0,1-11.29-5.23,16.79,16.79,0,0,1-4.54-12,17,17,0,0,1,4.75-12.22,17.7,17.7,0,0,1,24.77,0,17,17,0,0,1,4.74,12.21,17.18,17.18,0,0,1-3.88,11.15,15.77,15.77,0,0,1-8.66,5.52,7.33,7.33,0,0,0,3.46,2.31,8.3,8.3,0,0,0,7.79-1.57Zm-8.21-8.37a12.92,12.92,0,0,0,0-16.77,12.2,12.2,0,0,0-16.88,0,12.92,12.92,0,0,0,0,16.77,12.23,12.23,0,0,0,16.88,0Zm18,3V166.25h-5.6V200H203.5v-5.46Z" />
        </Grid>
        <DockPanel x:Name="server_panel_exit"
                   Visibility="Hidden"
                   LastChildFill="True"
                   Margin="0,4,4,4"
                   Grid.Column="1">
            <yt_btn:FIconButton Style="{StaticResource server_panel_btn}"
                                ToolTip="收起"
                                DockPanel.Dock="Top"
                                Content="&#xEBE7;"
                                Command="{Binding CloseCommand,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type yt_flow:YT_PopupBase}}}" />
            <yt_btn:FIconButton Style="{StaticResource server_panel_btn}"
                                CommandParameter="OFF"
                                Command="{Binding Command, Source={x:Static ser:ServerManager.Instance}}"
                                ToolTip="终止所有服务"
                                DockPanel.Dock="Bottom"
                                Content="&#xE7E8;" />
            <yt_btn:FIconButton Style="{StaticResource server_panel_btn}"
                                CommandParameter="ON"
                                Command="{Binding Command, Source={x:Static ser:ServerManager.Instance}}"
                                ToolTip="开启所有服务"
                                DockPanel.Dock="Top"
                                Content="&#xF5B0;" />
        </DockPanel>
        <Grid.Triggers>
            <EventTrigger RoutedEvent="MouseEnter">
                <EventTrigger.Actions>
                    <BeginStoryboard>
                        <Storyboard>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="server_panel_exit"
                                                           Storyboard.TargetProperty="Visibility">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{StaticResource Visible}" />
                            </ObjectAnimationUsingKeyFrames>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger.Actions>
            </EventTrigger>
            <EventTrigger RoutedEvent="MouseLeave">
                <EventTrigger.Actions>
                    <BeginStoryboard>
                        <Storyboard>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="server_panel_exit"
                                                           Storyboard.TargetProperty="Visibility">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{StaticResource Hidden}" />
                            </ObjectAnimationUsingKeyFrames>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger.Actions>
            </EventTrigger>
        </Grid.Triggers>
    </Grid>
</UserControl>
